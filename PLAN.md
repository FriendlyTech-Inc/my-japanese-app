
---

# 日本語学習アプリ 要件・仕様書

## 1. アプリ概要

### 1.1 アプリの目的
本アプリは、日本語学習者が「インプット学習（単語・フレーズ習得）」と「アウトプット学習（発話練習・発音評価）」をバランス良く行い、実践的なコミュニケーション能力を獲得できるよう設計されています。特に、日本語の発音や文脈に合った表現を身につけるための音声アウトプット機能を強化し、学習者がスマートフォン上でいつでも日本語を話す練習ができることを主眼としています。

### 1.2 ターゲット
- 日本語初学者から中・上級者まで幅広い層  
- 日常会話を中心に学びたい学習者  
- ビジネスメール文面や文章表現を知りたい中級以上の学習者  
- JLPT対策や旅行会話など、目的別のカリキュラムを求める学習者

### 1.3 アプリの特徴
1. **多彩なインプット機能**  
   単語やフレーズ、例文を直感的に学べる画面構成（ふりがな、英訳/母国語訳、音声）  
2. **音声認識・発音評価のアウトプット強化**  
   音声APIを活用し、学習者の発話を解析・評価。改善ポイントを可視化  
3. **クイズ機能の柔軟な再利用**  
   レッスン単位でのまとめクイズや、スピード形式の連続クイズなど複数モードに対応  
4. **コンテンツの柔軟な再利用・組み合わせ**  
   JSON形式のコンテンツ定義で、フレーズを最小単位とし、学習モード（アウトプット特化、クイズ特化、オリジナルリストなど）に応じて自由に再利用可能  

---

## 2. 学習方針・全体設計

### 2.1 基本学習フロー

1. **インプット（Input）**  
   - 単語・フレーズの意味、ふりがな、発音音声を確認  
   - 例文を見て文脈ごとの使い方を学ぶ  
2. **アウトプット（Output）**  
   - 実際にマイクボタンを押して発話  
   - 音声認識APIを用い、正しく発音できているかリアルタイム評価  
   - 例文や一部単語をマスキングし、段階的に難易度を上げながら練習  
3. **クイズ（Review / Assessment）**  
   - 4～5択のスピードクイズから、応用的な状況理解クイズまで多彩な形式  
   - 学習モードによっては、レッスンの最後にまとめてクイズを行ったり、スピード連続出題をしたりする  

この3ステップを繰り返し、学習者が多角的に日本語表現を定着できる仕組みを提供します。

### 2.2 モード別の学習例

- **通常レッスンモード**  
  特定のレッスン（例：あいさつ）を選択 → 各フレーズのインプットとアウトプット → レッスン終了時にまとめクイズ  
- **スピードクイズコース**  
  全フレーズ、あるいは特定のカテゴリから基本的な「意味を問うクイズ」だけをランダムで連続出題。テンポよく暗記できる。  
- **アウトプット強化コース**  
  発話練習必須の会話文を中心に抽出 → マスキング復唱や英語文からの翻訳発話など、音声アウトプットのみを連続的に実施  
- **オリジナルミニレッスン**  
  ユーザーが苦手フレーズだけをピックアップし、独自リストを作成 → インプット・アウトプット・クイズを自由に組み合わせて再学習  

---

## 3. 機能要件

### 3.1 インプット学習機能

1. **単語・フレーズ表示**  
   - 日本語（漢字・かな）＋ふりがな表示  
   - 母国語訳、英訳など複数言語対応  
   - 音声再生（ネイティブ発音）  
2. **例文提示**  
   - フレーズが文中で使われる具体例を表示（「私は公園へ行きます。」など）  
   - 例文も音声再生可能  
   - 単語の分書（公園＝park など）を併記  
3. **辞書参照・関連語リンク**  
   - ユーザーがわからない単語をタップして意味・読みを確認  
   - 同じレッスン内の関連フレーズや類義語などへ遷移

### 3.2 アウトプット学習機能

1. **発音入力・評価**  
   - マイクボタンを押して話すと、クラウドAPIで音声認識 → テキスト化 → 正解例とのマッチング・スコア化  
   - 誤差のある発音箇所の簡易フィードバック（どの音が弱い・どこを強調すべきなど）  
2. **多様な出題形式（タスクテンプレート）**  
   - **ベーシックリピート**：文字・音声提示の上で復唱  
   - **例文リピート**：フルセンテンスを提示・発音  
   - **マスキングリピート**：文中の一部を伏せ字にして発話  
   - **音声のみ提示**：テキスト表示なしで発話  
   - **文字のみ提示**：音声なしで発音  
   - **英語（母国語）から日本語へ**：英語文を表示し、日本語で発話  
   - **単語・フレーズ置き換え**：例文中の単語を他の単語に変えて応用練習  
3. **アウトプット練習の再利用**  
   - 全フレーズに「基本リピート」タスクを備え、スピードアウトプット練習コースで一括利用  
   - 応用練習は任意で設定、上級者向けコースや通常レッスンの追加要素として活用  

### 3.3 クイズ機能

1. **クイズ形式の多様化**  
   - 4～5択クイズ（「分からない」ボタン含む）  
   - 意味を問うベーシッククイズ（全フレーズ共通）  
   - 文脈理解や用法確認クイズ（応用的）  
2. **実施タイミングの柔軟性**  
   - レッスン最終でフレーズをまとめて出題  
   - スピードクイズコースではランダム出題  
   - オリジナルリストに登録したフレーズだけを出題  
3. **クイズ結果のフィードバック**  
   - 正解・不正解の即時表示  
   - 解説文や正しい答えの音声再生、参考例文のリマインドなど  
   - 学習履歴に基づいて復習を自動提案  

---

## 4. コンテンツ構造・管理

### 4.1 コンテンツ階層

1. **フレーズ（Phrase）**：  
   - 最小単位。日本語文・読み・訳・音声・関連語彙などを保持  
2. **ミニレッスン（MiniLesson）**：  
   - 5～10フレーズ程度を束ねた学習ブロック（例：朝の挨拶・夜の挨拶など）  
3. **レッスン（Lesson）**：  
   - 複数のミニレッスンを束ねたテーマ（例：基本の挨拶、ビジネスメール表現など）

### 4.2 JSON形式のコンテンツ定義例

- フレーズの基本情報（テキスト、読み、訳、音声）  
- 例文（日本語＋訳＋音声、単語ごとの意味）  
- クイズ設定（クイズタイプ、問題文、選択肢）  
- アウトプット学習タスク（提示オプション：テキスト表示の有無、音声表示の有無、マスキング箇所など）

```json
{
  "phrases": [
    {
      "id": "phrase_ikimasu",
      "jp_text": "行きます",
      "reading": "いきます",
      "translations": { "en": "go" },
      "audio": "audio/ikimasu.mp3"
    },
    ...
  ],
  "templates": [
    {
      "id": "output_basic_repeat",
      "parameters": {
        "text_shown": true,
        "audio_shown": true
      }
    },
    ...
  ]
}
```
詳しくはJSON_sample.jsonにサンプルを掲載してます。（あくまで仮の設計）

### 4.3 再利用・組み合わせの仕組み

- **クイズ再利用**：  
  全フレーズ共通の「意味確認クイズ」をベーシッククイズとして用意し、スピードクイズモードではそれだけ抽出。難度の高い用法クイズはレッスン終盤や上級コースで利用  
- **アウトプットタスク再利用**：  
  各フレーズに「ベーシックリピート」タスクを必須登録 → 一括練習コースや上級コースで追加タスク（マスキング、英語から日本語変換）を適宜抽出  
- **オリジナルリスト**：  
  学習者がピックアップしたフレーズIDの集合に対して、共通クイズやアウトプットタスクを適用可能  

---

## 5. ユーザーインターフェース（UI/UX）の概要

### 5.1 画面構成例

1. **ホーム画面**  
   - レッスン一覧、スピードクイズコース、アウトプット特化コース、オリジナルリストへの導線  
2. **レッスン詳細画面**  
   - ミニレッスン一覧（朝の挨拶、夜の挨拶など）  
   - 完了度合いのプログレスバー表示  
3. **フレーズ学習画面（インプット・アウトプット）**  
   - インプットタブ：フレーズ、訳、音声、例文表示  
   - アウトプットタブ：発話ボタン、大きな文字表示や音声ボタン、発音評価表示  
   - 次のフレーズへ、またはクイズへ進むボタン  
4. **クイズ画面**  
   - 4～5択の問題、解説、音声ボタン  
   - 次の問題へ、結果集計表示  

### 5.2 ユーザー体験の流れ（例）

1. ホーム画面で「あいさつレッスン」を選択  
2. ミニレッスン「朝の挨拶」で「おはようございます」など5フレーズをインプット → アウトプットの順で学習  
3. レッスン最後にまとめクイズを受ける  
4. ホームへ戻り、スピードクイズコースを選んで覚えた挨拶フレーズを高速に復習  
5. ユーザーが「どうしても覚えられないフレーズ」をお気に入りリストへ登録し、後でオリジナルミニレッスンを作成して重点的に学習  

---

## 6. 技術面の仕様

### 6.1 バックエンド・API

- **音声認識・発音評価**：  
  Google Cloud Speech-to-Text、Microsoft Azure Cognitive Services、Amazon Transcribeなどの利用を想定。  
  APIから受け取った文字起こし結果と正解フレーズを比較し、イントネーション評価や類似度スコアを算出。  

- **サーバーサイド**  
  - 学習履歴やユーザー情報をDBで管理（例：Firebase / AWS / Azure）  
  - コンテンツ（JSONファイルや音声ファイル）はクラウドストレージ＋CDNで配信  

### 6.2 フロントエンド（iOS/Android対応）

- **クロスプラットフォームフレームワーク**：  
  FlutterやReact Nativeで開発することでiOS/Android両対応を効率化。  
- **UI実装**  
  - 音声録音・再生UI、クイズUI、リスト管理UIなど共通コンポーネントを作成  
  - JSONを解析し、画面に必要なテキストや音声をオンデマンドで表示  
- **オフライン対応（将来的オプション）**  
  - 音声認識部分はオンライン必須だが、オフライン学習用にクイズや単語帳をキャッシュする仕組みも検討可  

---

## 7. 今後の展開と改善

1. **学習アルゴリズムの高度化**  
   - ユーザーの誤答履歴・発音スコアから苦手分野をAIが推定し、個別に最適化されたフレーズやクイズをリコメンド  
2. **コミュニティ機能**  
   - 学習者同士の進捗共有、モチベーション向上のためのランキングやSNS連携  
3. **オンラインレッスン連携**  
   - 発音添削をネイティブがオンラインで行うサービスとの連携も視野に  
4. **ビジネスモデル**  
   - 基本無料＋一部プレミアム機能（高度な発音分析、豊富なシナリオ練習など）  
   - 広告モデルとのバランスを考慮し、学習体験を損なわない形での導入を検討  

---

## 8. まとめ

本アプリは、インプットとアウトプットを一体的に学べるような学習設計を核とし、特に音声発話練習を多彩な形でサポートすることが大きな特徴です。  
- **コンテンツの柔軟性**：最小単位のフレーズ情報に対して、クイズ形式・アウトプット形式をタグ付けやテンプレート化しておくことで、スピードクイズ、アウトプット特化、ユーザーオリジナルリストなどあらゆる学習モードに再利用可能。  
- **アプリ体験**：レッスンモードで系統的に学んだあと、ランダム出題や個人カスタマイズで反復学習を行うことで定着率を高める。  
- **技術面**：音声認識とスコアリングをクラウドAPIで行いつつ、コンテンツやUIはスマホアプリ上で軽快に動作。拡張機能としてコミュニティやAIレコメンドなども将来追加が可能。  

本設計を土台として、今後のプロトタイプ開発・ユーザーテストを通じて機能の優先度やUI/UXの詳細を洗練させることで、より効果的な日本語学習プラットフォームを構築できます。

---

